---
/**
 * File: src/pages/process.astro  (or wherever you use it)
 * Purpose: Proven Process section — refined to MELI brand standard
 */

import Stat from "../astro/Stat.astro";

const BASE = import.meta.env.BASE_URL;

const steps = [
  {
    num: "01",
    title: "Process-Led Approach",
    desc: "Clearly defined stages from assessment to deployment, ensuring predictability and control.",
    tags: ["Transparent tracking", "Real-time updates"],
    icon: "doc",
  },
  {
    num: "02",
    title: "Compliance Focused",
    desc: "Structured documentation aligned with regulatory requirements and audit-ready reporting.",
    tags: ["Legal framework", "Audit ready"],
    icon: "shield",
  },
  {
    num: "03",
    title: "Dedicated Support",
    desc: "Continuous guidance for employers and candidates with responsive communication throughout.",
    tags: ["24/7 assistance", "Expert guidance"],
    icon: "support",
  },
];
---


  <section class="meli-process relative overflow-hidden py-24 md:py-32">
    <!-- Ambient background -->
    <div class="pointer-events-none absolute inset-0 meli-process__bg"></div>

    <!-- Soft blobs -->
    <div class="pointer-events-none absolute -top-24 -left-24 h-72 w-72 rounded-full meli-process__blob"></div>
    <div class="pointer-events-none absolute -bottom-24 -right-24 h-72 w-72 rounded-full meli-process__blob2"></div>

    <div class="relative container mx-auto px-4">
      <!-- Header -->
      <div class="mb-20 text-center">
        <span class="inline-flex items-center gap-2 rounded-full meli-pill px-4 py-1.5 text-sm font-semibold">
          <span class="meli-pill__dot"></span>
          Our Methodology
        </span>

        <h1 class="mt-5 text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight meli-title">
          A <span class="meli-accent">Proven</span> Process
        </h1>

        <p class="mx-auto mt-6 max-w-3xl text-lg md:text-xl meli-subtitle">
          A structured, transparent workflow designed to deliver clarity, compliance,
          and confidence at every stage.
        </p>
      </div>

      <!-- Process -->
      <div class="relative mb-20">
        <!-- Connector line (desktop) -->
        <div class="hidden md:block absolute top-1/2 inset-x-0 h-px meli-connector -translate-y-1/2"></div>

        <div class="grid gap-10 md:grid-cols-3 md:gap-12">
          {steps.map((s) => (
            <article class="meli-card group relative">
              <!-- number badge -->
              <div class="absolute -top-5 -left-5">
                <div class="meli-badge">
                  <div class="meli-badge__ring"></div>
                  <div class="meli-badge__core">{s.num}</div>
                </div>
              </div>

              <!-- icon -->
              <div class="mb-6 flex justify-end">
                <div class="meli-icon">
                  {s.icon === "doc" ? (
                    <svg class="h-7 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                  ) : s.icon === "shield" ? (
                    <svg class="h-7 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                  ) : (
                    <svg class="h-7 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                  )}
                </div>
              </div>

              <h3 class="text-2xl font-bold meli-card__title">{s.title}</h3>
              <p class="mt-4 meli-card__desc">{s.desc}</p>

              <div class="mt-6 flex flex-wrap gap-2">
                {s.tags.map((t) => (
                  <span class="meli-tag">
                    <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd"
                        d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                        clip-rule="evenodd" />
                    </svg>
                    {t}
                  </span>
                ))}
              </div>

              <!-- glow corner -->
              <div class="meli-corner-glow"></div>
            </article>
          ))}
        </div>
      </div>

      <!-- CTA -->
      <div class="relative">
        <div class="pointer-events-none absolute inset-0 meli-cta__glow"></div>

        <div class="meli-cta rounded-3xl p-8 md:p-12">
          <div class="flex flex-col items-center justify-between gap-8 md:flex-row">
            <div class="flex items-center gap-6">
              <div class="meli-cta__badge">
                <div class="meli-cta__pulse"></div>
                <div class="meli-cta__core">
                  <svg class="h-7 w-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M13 10V3L4 14h7v7l9-11h-7z" />
                  </svg>
                </div>
              </div>

              <div>
                <p class="text-2xl font-bold text-brand-navy">Streamlined for efficiency</p>
                <p class="mt-2 text-slate-600">
                  Average processing time reduced by <span class="font-semibold text-brand-gold">40%</span>
                </p>
              </div>
            </div>

            <div class="flex flex-col gap-4 sm:flex-row">
              <a
                href={`${BASE}contact/`}
                class="meli-btn meli-btn--primary group relative overflow-hidden"
              >
                <span class="relative z-10">Get Started Now</span>
                <span class="meli-btn__shine"></span>
                <svg class="meli-btn__arrow h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M14 5l7 7m0 0l-7 7m7-7H3" />
                </svg>
              </a>

              <a
                href={`${BASE}services/`}
                class="meli-btn meli-btn--ghost"
              >
                View Case Studies
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Optional stats (if you want) -->
      <!--
      <div class="mt-16 grid gap-6 md:grid-cols-3">
        <Stat label="Avg. Processing Time" value="40% faster" />
        <Stat label="Compliance Checks" value="Audit-ready" />
        <Stat label="Support Availability" value="24/7" />
      </div>
      -->
    </div>
  </section>

  <style>
    /* =========================================================
      MELI PROCESS — local CSS
      Uses your existing Tailwind tokens:
      - brand-navy
      - brand-gold
    ========================================================= */

    .meli-process {
      background: linear-gradient(180deg, rgba(15, 23, 42, 0.02), rgba(15, 23, 42, 0.00));
    }

    .meli-process__bg {
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(199, 160, 55, 0.12), transparent 65%),
        radial-gradient(900px 500px at 85% 85%, rgba(15, 23, 42, 0.10), transparent 60%);
      opacity: 1;
    }

    .meli-process__blob {
      background: radial-gradient(circle at 30% 30%, rgba(199, 160, 55, 0.22), transparent 60%);
      filter: blur(28px);
      animation: meliFloat 10s ease-in-out infinite;
    }
    .meli-process__blob2 {
      background: radial-gradient(circle at 30% 30%, rgba(15, 23, 42, 0.18), transparent 60%);
      filter: blur(28px);
      animation: meliFloat 12s ease-in-out infinite reverse;
    }

    .meli-pill {
      color: rgb(199 160 55);
      background: rgba(199, 160, 55, 0.10);
      border: 1px solid rgba(199, 160, 55, 0.25);
      backdrop-filter: blur(6px);
    }
    .meli-pill__dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: rgb(199 160 55);
      box-shadow: 0 0 0 6px rgba(199, 160, 55, 0.12);
    }

    .meli-title { color: rgb(15 23 42); }
    .meli-accent { color: rgb(199 160 55); }
    .meli-subtitle { color: rgb(71 85 105); }

    .meli-connector {
      background: linear-gradient(90deg, transparent, rgba(15, 23, 42, 0.14), transparent);
    }

    .meli-card {
      position: relative;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.92);
      border: 1px solid rgba(15, 23, 42, 0.08);
      box-shadow:
        0 20px 60px rgba(15, 23, 42, 0.08),
        0 2px 10px rgba(15, 23, 42, 0.04);
      padding: 32px;
      transition: transform 300ms ease, box-shadow 300ms ease, border-color 300ms ease;
      backdrop-filter: blur(10px);
      overflow: hidden;
    }
    .meli-card:hover {
      transform: translateY(-6px);
      border-color: rgba(199, 160, 55, 0.35);
      box-shadow:
        0 28px 90px rgba(15, 23, 42, 0.12),
        0 6px 18px rgba(15, 23, 42, 0.06);
    }

    .meli-card__title { color: rgb(15 23 42); }
    .meli-card__desc { color: rgb(71 85 105); line-height: 1.75; }

    .meli-badge {
      position: relative;
      width: 64px;
      height: 64px;
    }
    .meli-badge__ring {
      position: absolute;
      inset: 0;
      border-radius: 18px;
      background: rgba(199, 160, 55, 0.16);
      filter: blur(0px);
      animation: meliPing 3.5s ease-in-out infinite;
    }
    .meli-badge__core {
      position: absolute;
      inset: 0;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(199, 160, 55, 1), rgba(240, 208, 122, 1));
      color: white;
      font-weight: 900;
      font-size: 22px;
      letter-spacing: -0.02em;
      box-shadow: 0 14px 30px rgba(199, 160, 55, 0.22);
    }

    .meli-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 56px;
      height: 56px;
      border-radius: 16px;
      background: rgba(15, 23, 42, 0.04);
      border: 1px solid rgba(15, 23, 42, 0.08);
      color: rgb(15 23 42);
      transition: transform 250ms ease, background 250ms ease, border-color 250ms ease;
    }
    .meli-card:hover .meli-icon {
      transform: translateY(-2px) scale(1.03);
      background: rgba(199, 160, 55, 0.10);
      border-color: rgba(199, 160, 55, 0.22);
    }

    .meli-tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.04);
      border: 1px solid rgba(15, 23, 42, 0.08);
      color: rgb(51 65 85);
      font-weight: 600;
      font-size: 14px;
    }
    .meli-tag svg { color: rgb(199 160 55); }

    .meli-corner-glow {
      position: absolute;
      right: -40px;
      bottom: -40px;
      width: 160px;
      height: 160px;
      border-radius: 48px;
      background: radial-gradient(circle at 30% 30%, rgba(199, 160, 55, 0.18), transparent 60%);
      filter: blur(18px);
      transform: rotate(12deg);
      transition: transform 400ms ease;
    }
    .meli-card:hover .meli-corner-glow {
      transform: rotate(12deg) scale(1.1);
    }

    /* CTA */
    .meli-cta__glow {
      background: radial-gradient(600px 160px at 50% 20%, rgba(199, 160, 55, 0.18), transparent 70%);
      filter: blur(26px);
    }

    .meli-cta {
      background: rgba(255, 255, 255, 0.90);
      border: 1px solid rgba(15, 23, 42, 0.10);
      box-shadow: 0 24px 80px rgba(15, 23, 42, 0.10);
      backdrop-filter: blur(10px);
    }

    .meli-cta__badge {
      position: relative;
      width: 64px;
      height: 64px;
    }
    .meli-cta__pulse {
      position: absolute;
      inset: 0;
      border-radius: 18px;
      background: rgba(199, 160, 55, 0.18);
      animation: meliPing 3.5s ease-in-out infinite;
    }
    .meli-cta__core {
      position: absolute;
      inset: 0;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(199, 160, 55, 1), rgba(240, 208, 122, 1));
      box-shadow: 0 16px 30px rgba(199, 160, 55, 0.22);
    }

    .meli-btn {
      position: relative;
      border-radius: 14px;
      padding: 14px 18px;
      font-weight: 700;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease, background 200ms ease, color 200ms ease;
      min-width: 190px;
    }

    .meli-btn--primary {
      background: linear-gradient(135deg, rgba(15, 23, 42, 1), rgba(30, 41, 59, 1));
      color: white;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.18);
      overflow: hidden;
    }
    .meli-btn--primary:hover { transform: translateY(-2px); box-shadow: 0 22px 55px rgba(15, 23, 42, 0.22); }

    .meli-btn__shine {
      position: absolute;
      inset: -2px;
      background: linear-gradient(90deg, transparent, rgba(199, 160, 55, 0.26), transparent);
      transform: translateX(-120%);
      transition: transform 650ms ease;
    }
    .meli-btn--primary:hover .meli-btn__shine {
      transform: translateX(120%);
    }

    .meli-btn__arrow {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.9;
      transition: transform 250ms ease;
    }
    .meli-btn--primary:hover .meli-btn__arrow {
      transform: translate(4px, -50%);
    }

    .meli-btn--ghost {
      background: rgba(255,255,255,0.9);
      border: 1px solid rgba(15, 23, 42, 0.16);
      color: rgb(15 23 42);
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.06);
    }
    .meli-btn--ghost:hover {
      transform: translateY(-2px);
      border-color: rgba(199, 160, 55, 0.35);
      box-shadow: 0 14px 34px rgba(15, 23, 42, 0.10);
    }

    @keyframes meliPing {
      0%, 100% { transform: scale(1); opacity: 0.22; }
      50% { transform: scale(1.12); opacity: 0.12; }
    }

    @keyframes meliFloat {
      0%, 100% { transform: translate3d(0,0,0); }
      50% { transform: translate3d(10px, -12px, 0); }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .meli-process__blob,
      .meli-process__blob2,
      .meli-badge__ring,
      .meli-cta__pulse {
        animation: none !important;
      }
      .meli-card,
      .meli-btn {
        transition: none !important;
      }
    }
  </style>

